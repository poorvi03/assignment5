(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){},36:function(e,t,a){},48:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(49),r=a.n(s),i=(a(58),a(3)),o=a(8),u=a.n(o),l=a(16),p=(a(60),a(30),a(5)),j=a.n(p),h=a(6),d=a(2);var b=function(e){var t=e.setUserAuthenticated,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(""),p=Object(i.a)(o,2),b=p[0],O=p[1],f=Object(n.useState)(""),m=Object(i.a)(f,2),x=m[0],v=m[1],g=Object(n.useState)(null),k=Object(i.a)(g,2),N=k[0],w=k[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),R=C[0],y=C[1],P=Object(n.useState)(""),E=Object(i.a)(P,2),L=E[0],A=E[1],U=Object(h.g)();Object(n.useEffect)((function(){j.a.get("https://mern-blog-backend-api.herokuapp.com/api/user",{withCredentials:!0}).then((function(e){r(e.data.name),O(e.data.email),v(e.data._id),w(e.data.profilePicture)})).catch((function(e){A(""),y(""),console.log("ERROR in account page",e)}))}),[]);var M=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(""),A(""),e.prev=3,(a=new FormData).append("name",s),a.append("email",b),a.append("avatar",N),e.next=10,j.a.patch("https://mern-blog-backend-api.herokuapp.com/api/user/"+x,a);case 10:n=e.sent,console.log(n),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),y(e.t0.response.data.name),A(e.t0.response.data.email),console.log("ERROR in account patch: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://mern-blog-backend-api.herokuapp.com/api/user/logout",{withCredentials:!0});case 3:200===(a=e.sent).status&&(t(!1),U.push("/")),console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("ERROR in handleLogOutUser:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("https://mern-blog-backend-api.herokuapp.com/api/user/"+x,{withCredentials:!0});case 3:200===e.sent.status&&(t(!1),U.push("/")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR in handleDeleteAccount:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"account-container",children:[Object(d.jsxs)("div",{className:"account-avatar-container",children:[Object(d.jsx)("img",{className:"account-avatar",src:function(){try{return URL.createObjectURL(N)}catch(e){return N}}(),alt:"profilePicture"}),Object(d.jsx)("input",{className:"account-file-input",type:"file",onChange:function(e){return function(e){w(e.target.files[0])}(e)}})]}),Object(d.jsxs)("form",{className:"account-form",children:[Object(d.jsx)("input",{type:"text",placeholder:"name",autoComplete:"none",className:"input-field",value:s,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("h4",{className:"account-form-error",children:R}),Object(d.jsx)("input",{type:"text",placeholder:"name@google.com",autoComplete:"none",className:"input-field",value:b,onChange:function(e){return O(e.target.value)}}),Object(d.jsx)("h4",{className:"account-form-error",children:L}),Object(d.jsx)("button",{className:"input-button",onClick:M,children:"Update"}),Object(d.jsx)("h4",{className:"logout-button",onClick:I,children:"Logout"}),Object(d.jsx)("h4",{className:"delete-button",onClick:B,children:"Delete Account"})]})]})},O=(a(36),a(95)),f={hover:{scale:1.2},tap:{scale:.8}};var m=function(e){var t=e.path;return Object(d.jsx)(O.a.div,{variants:f,whileHover:"hover",whileTap:"tap",className:"svgIcon-container",children:Object(d.jsx)("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{className:"svg-icon-path",d:t})})})},x=(a(85),a(15));var v=function(){var e=Object(h.h)(),t=Object(n.useState)([{path:"M12 2c3.032 0 5.5 2.467 5.5 5.5 0 1.458-.483 3.196-3.248 5.59 4.111 1.961 6.602 5.253 7.482 8.909h-19.486c.955-4.188 4.005-7.399 7.519-8.889-1.601-1.287-3.267-3.323-3.267-5.61 0-3.033 2.468-5.5 5.5-5.5zm0-2c-4.142 0-7.5 3.357-7.5 7.5 0 2.012.797 3.834 2.086 5.182-5.03 3.009-6.586 8.501-6.586 11.318h24c0-2.791-1.657-8.28-6.59-11.314 1.292-1.348 2.09-3.172 2.09-5.186 0-4.143-3.358-7.5-7.5-7.5z",to:"account"}]),a=Object(i.a)(t,1)[0];return Object(d.jsx)("header",{children:Object(d.jsxs)("ul",{className:"header-list",children:[Object(d.jsx)("li",{children:Object(d.jsx)(x.b,{to:"/",children:Object(d.jsx)("h1",{className:"header-title",children:"Blog"})})}),a.map((function(t,a){var n=t.path,c=t.to;return Object(d.jsx)("li",{children:Object(d.jsx)(x.b,{to:void 0!==c?"/"+c:e.pathname,children:Object(d.jsx)(m,{path:n})})},a)}))]})})},g=a(96),k={hover:{scale:1.2},tap:{scale:.8}},N=function(e){var t=e.postId,a=e.hasLiked,n=e.setHasLiked,c=e.setNumberOfLikes,s=e.numberOfLikes,r=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=j.a,e.next=4,j.a.patch("https://mern-blog-backend-api.herokuapp.com/api/post/"+t,{},{withCredentials:!0});case 4:return e.t1=e.sent,e.next=7,j.a.patch("https://mern-blog-backend-api.herokuapp.com/api/user/postLiked",{postId:t,hasLiked:a},{withCredentials:!0});case 7:e.t2=e.sent,e.t3=[e.t1,e.t2],e.t0.all.call(e.t0,e.t3),c(a?s-1:s+1),n(!a),e.next=17;break;case 14:e.prev=14,e.t4=e.catch(0),console.log("ERROR in LikeSvg:",e.t4);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(O.a.svg,{onClick:r,variants:k,whileHover:"hover",whileTap:"tap",xmlns:"http://www.w3.org/2000/svg",className:"svg-icon svg-like",viewBox:"-5 0 30 30",children:Object(d.jsx)("path",{className:a?"svg-path-liked":"svg-path-like",d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"})})},w=(a(86),function(e){var t=e.post,a=e.user,c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],o=s[1],u=Object(n.useState)(""),l=Object(i.a)(u,2),p=l[0],h=l[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),f=O[0],m=O[1],v=Object(n.useState)(t.numberOfLikes),g=Object(i.a)(v,2),k=g[0],w=g[1];return Object(n.useEffect)((function(){j.a.get("https://mern-blog-backend-api.herokuapp.com/api/user/"+t.authorId).then((function(e){o(e.data.name),h(e.data.profilePicture)})).catch((function(e){return console.log("ERROR in Post useEffect:",e)}))}),[t.authorId]),Object(n.useEffect)((function(){a&&a.postLiked.includes(t._id)&&m(!0)}),[a,t._id]),Object(d.jsxs)("div",{className:"post-container",children:[Object(d.jsx)(x.b,{to:"/post/".concat(t._id),className:"post-link",children:Object(d.jsx)("h1",{className:"post-title",children:t.title})}),Object(d.jsxs)("div",{className:"post-details",children:[Object(d.jsx)(N,{postId:t._id,hasLiked:f,setHasLiked:m,setNumberOfLikes:w,numberOfLikes:k}),Object(d.jsx)("h1",{className:"post-details-numberOfLikes",children:k})]}),Object(d.jsxs)("div",{className:"post-author-details",children:[Object(d.jsx)("img",{style:{width:"50px",height:"50px",borderRadius:"50%"},src:p,alt:"avatar"}),Object(d.jsxs)("h3",{className:"post-author",children:["Made By ",r]})]})]})}),S=(a(87),function(e){var t=e.userAuthenticated,a=e.setCanShowModal;return Object(d.jsx)(O.a.div,{whileHover:{scale:1.2},whileTap:{scale:.8},onClick:function(){a(!0)},className:"addPostButton-container ".concat(!t&&"hide"),children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{fill:"white",d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})})})}),C=a(52),R=(a(88),{hidden:{y:"-100vh",opacity:0},visible:{y:0,opacity:1,transition:{duration:.1,type:"spring",damping:25,stiffness:500}},exit:{y:"100vh",opacity:0}}),y=function(e){var t=e.setCanShowModal,a=e.setPosts,c=e.posts,s=Object(n.useState)(""),r=Object(i.a)(s,2),o=r[0],p=r[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),f=b[0],m=b[1],x=Object(n.useState)(""),v=Object(i.a)(x,2),g=v[0],k=v[1],N=Object(n.useState)(""),w=Object(i.a)(N,2),S=w[0],y=w[1],P=function(){var e=Object(l.a)(u.a.mark((function e(n){var s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),k(""),y(""),e.prev=3,e.next=6,j.a.post("https://mern-blog-backend-api.herokuapp.com/api/post",{title:o,body:f},{withCredentials:!0});case 6:s=e.sent,console.log(s.status),200===s.status&&((r=Object(C.a)(c)).push(s.data),a(r),t(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),k(e.t0.response.data.title),y(e.t0.response.data.body),console.log("ERROR in add post modal:",{error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(O.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"addPostModal-background",onClick:function(){return t(!1)},children:Object(d.jsxs)(O.a.form,{variants:R,initial:"hidden",animate:"visible",exit:"exit",className:"addPostModal-form",onClick:function(e){return e.stopPropagation()},children:[Object(d.jsx)("h1",{className:"addPostModal-title",children:"Add a post"}),Object(d.jsx)("input",{type:"text",className:"input-field",placeholder:"Title",value:o,onChange:function(e){return p(e.target.value)}}),Object(d.jsx)("h4",{className:"addPostModal-form-error",children:g}),Object(d.jsx)("textarea",{cols:"20",rows:"3",className:"input-field",placeholder:"Body",value:f,onChange:function(e){return m(e.target.value)}}),Object(d.jsx)("h4",{className:"addPostModal-form-error",children:S}),Object(d.jsx)("button",{className:"input-button",onClick:P,children:"Add"}),Object(d.jsx)("button",{className:"input-button",onClick:function(e){e.preventDefault(),t(!1)},children:"Close"})]})})};a(89);var P=function(e){var t=e.userAuthenticated,a=e.user,c=Object(n.useState)(!1),s=Object(i.a)(c,2),r=s[0],o=s[1],u=Object(n.useState)([]),l=Object(i.a)(u,2),p=l[0],h=l[1];return Object(n.useEffect)((function(){j.a.get("https://mern-blog-backend-api.herokuapp.com/api/post").then((function(e){return h(e.data)})).catch((function(e){return console.log("ERROR in home useEffect:",e)}))}),[]),Object(d.jsxs)("div",{className:"home-container",children:[Object(d.jsx)("div",{className:"home-posts-container",children:p.map((function(e){return Object(d.jsx)(w,{post:e,user:a},e._id)}))}),Object(d.jsx)(S,{userAuthenticated:t,setCanShowModal:o}),Object(d.jsx)(g.a,{initial:!1,exitBeforeEnter:!0,children:r&&Object(d.jsx)(y,{canShowModal:r,setCanShowModal:o,setPosts:h,posts:p})})]})};a(48);var E=function(e){var t=e.setUserAuthenticated,a=Object(h.g)(),c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],o=s[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),O=b[0],f=b[1],m=Object(n.useState)(""),x=Object(i.a)(m,2),v=x[0],g=x[1],k=Object(n.useState)(""),N=Object(i.a)(k,2),w=N[0],S=N[1],C=Object(n.useState)(""),R=Object(i.a)(C,2),y=R[0],P=R[1],E=Object(n.useState)(""),L=Object(i.a)(E,2),A=L[0],U=L[1],M=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),S(""),P(""),U(""),e.prev=4,e.next=7,j.a.post("https://mern-blog-backend-api.herokuapp.com/api/user/sign-up",{name:r,email:O,password:v},{withCredentials:!0});case 7:200===e.sent.status&&(a.push("/"),t(!0)),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(4),S(e.t0.response.data.name),P(e.t0.response.data.email),U(e.t0.response.data.password),console.log("ERROR IN SIGN UP PAGE",e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"signUp-container",children:[Object(d.jsx)("h1",{className:"signUp-title",children:"Sign Up"}),Object(d.jsxs)("form",{className:"signUp-form",children:[Object(d.jsx)("input",{type:"text",placeholder:"name",autoComplete:"none",className:"input-field",value:r,onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("h4",{className:"signUp-form-error",children:w}),Object(d.jsx)("input",{type:"text",placeholder:"name@google.com",autoComplete:"none",className:"input-field",value:O,onChange:function(e){return f(e.target.value)}}),Object(d.jsx)("h4",{className:"signUp-form-error",children:y}),Object(d.jsx)("input",{type:"password",placeholder:"password",autoComplete:"none",className:"input-field",value:v,onChange:function(e){return g(e.target.value)}}),Object(d.jsx)("h4",{className:"signUp-form-error",children:A}),Object(d.jsx)("button",{className:"input-button",onClick:M,children:"Sign Up"})]})]})},L=a(38),A=a(53),U=["children","userAuthenticated"],M=function(e){var t=e.children,a=e.userAuthenticated,n=Object(A.a)(e,U);return Object(d.jsx)(h.b,Object(L.a)(Object(L.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(d.jsx)(h.a,{to:{pathname:"/login",state:{from:n}}})}}))},I=(a(90),function(e){var t=e.setUserAuthenticated,a=Object(h.g)(),c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],o=s[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),O=b[0],f=b[1],m=Object(n.useState)(""),x=Object(i.a)(m,2),v=x[0],g=x[1],k=Object(n.useState)(""),N=Object(i.a)(k,2),w=N[0],S=N[1],C=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),g(""),S(""),e.prev=3,e.next=6,j.a.post("https://mern-blog-backend-api.herokuapp.com/api/user/login",{email:r,password:O},{withCredentials:!0});case 6:200===e.sent.status&&(t(!0),a.push("/")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR IN LOGIN PAGE",e.t0),e.t0.response&&(g(e.t0.response.data.email),S(e.t0.response.data.password));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"login-container",children:[Object(d.jsx)("h1",{className:"login-title",children:"Login"}),Object(d.jsxs)("form",{className:"login-form",children:[Object(d.jsx)("input",{type:"text",placeholder:"name@google.com",autoComplete:"none",className:"input-field",value:r,onChange:function(e){return o(e.target.value)}}),Object(d.jsx)("h4",{className:"login-form-error",children:v}),Object(d.jsx)("input",{type:"password",placeholder:"password",autoComplete:"none",className:"input-field",value:O,onChange:function(e){return f(e.target.value)}}),Object(d.jsx)("h4",{className:"login-form-error",children:w}),Object(d.jsx)("button",{className:"input-button",onClick:C,children:"Login"}),Object(d.jsx)("h2",{className:"register-button",onClick:function(){a.push("/sign-up")},children:"Register"})]})]})}),B=(a(91),function(){return Object(d.jsxs)("div",{className:"notFound-container",children:[Object(d.jsx)("svg",{className:"svg-big",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{className:"svg-icon-path",d:"M16.142 2l5.858 5.858v8.284l-5.858 5.858h-8.284l-5.858-5.858v-8.284l5.858-5.858h8.284zm.829-2h-9.942l-7.029 7.029v9.941l7.029 7.03h9.941l7.03-7.029v-9.942l-7.029-7.029zm-8.482 16.992l3.518-3.568 3.554 3.521 1.431-1.43-3.566-3.523 3.535-3.568-1.431-1.432-3.539 3.583-3.581-3.457-1.418 1.418 3.585 3.473-3.507 3.566 1.419 1.417z"})}),Object(d.jsx)("h2",{children:"404 Page Not Found"})]})}),_=(a(92),function(e){var t=e.user,a=Object(h.i)(),c=Object(n.useState)({}),s=Object(i.a)(c,2),r=s[0],o=s[1],u=Object(n.useState)({}),l=Object(i.a)(u,2),p=l[0],b=l[1],O=Object(n.useState)(!1),f=Object(i.a)(O,2),m=f[0],x=f[1],v=Object(n.useState)(0),g=Object(i.a)(v,2),k=g[0],w=g[1];return Object(n.useEffect)((function(){var e=a.id;j.a.get("https://mern-blog-backend-api.herokuapp.com/api/post/"+e).then((function(e){o(e.data),w(e.data.numberOfLikes)})).catch((function(e){return console.log("ERROR in useEffect SpecificPost:",{error:e})}))}),[a.id]),Object(n.useEffect)((function(){Object.keys(r).length>0&&j.a.get("https://mern-blog-backend-api.herokuapp.com/api/user/"+r.authorId).then((function(e){return b(e.data)})).catch((function(e){return console.log("ERROR in useEffect2 SpecificPost:",e)}))}),[r]),Object(n.useEffect)((function(){t&&t.postLiked.includes(r._id)&&(console.log("de"),x(!0))}),[t,r._id]),Object(d.jsxs)("div",{className:"specificPost-container",children:[Object(d.jsx)("h1",{className:"specificPost-title",children:r.title}),Object(d.jsx)("h1",{className:"specificPost-body",children:r.body}),Object(d.jsxs)("div",{className:"specificPost-author-details",children:[Object(d.jsx)("img",{src:p.profilePicture,alt:"profilePicture",className:"specificPost-profilePicture"}),Object(d.jsx)("h1",{className:"specificPost-author",children:p.name}),Object(d.jsxs)("div",{className:"specificPost-numberOfLikes-container",children:[Object(d.jsx)(N,{postId:r._id,hasLiked:m,setHasLiked:x,setNumberOfLikes:w,numberOfLikes:k}),Object(d.jsx)("h1",{children:k})]})]})]})});var D=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),o=r[0],u=r[1];return Object(n.useEffect)((function(){j.a.get("https://mern-blog-backend-api.herokuapp.com/api/user",{withCredentials:!0}).then((function(e){200===e.status&&(u(e.data),c(!0))})).catch((function(e){return console.log(e)}))}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(v,{}),Object(d.jsxs)(h.d,{children:[Object(d.jsx)(h.b,{path:"/",exact:!0,children:Object(d.jsx)(P,{userAuthenticated:a,user:o})}),Object(d.jsx)(M,{path:"/account",userAuthenticated:a,children:Object(d.jsx)(b,{setUserAuthenticated:c})}),Object(d.jsx)(h.b,{path:"/sign-up",children:Object(d.jsx)(E,{setUserAuthenticated:c})}),Object(d.jsx)(h.b,{path:"/login",children:Object(d.jsx)(I,{setUserAuthenticated:c})}),Object(d.jsx)(h.b,{path:"/post/:id",children:Object(d.jsx)(_,{user:o})}),Object(d.jsx)(h.b,{path:"*",component:B})]})]})})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.30ecff47.chunk.js.map